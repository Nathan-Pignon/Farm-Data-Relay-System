\doxysection{fdrs\+\_\+gateway\+\_\+scheduler.\+h}
\hypertarget{fdrs__gateway__scheduler_8h_source}{}\label{fdrs__gateway__scheduler_8h_source}\index{src/fdrs\_gateway\_scheduler.h@{src/fdrs\_gateway\_scheduler.h}}
\mbox{\hyperlink{fdrs__gateway__scheduler_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_schedule_item}{ScheduleItem}}}
\DoxyCodeLine{00004\ \{}
\DoxyCodeLine{00005\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct_schedule_item_a58e883896044e92ae6be7990ce9daf2b}{interval}};}
\DoxyCodeLine{00006\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct_schedule_item_a244dae875e888a2179aadb24f72b6873}{start}};}
\DoxyCodeLine{00007\ \ \ \ \ void\ (*\mbox{\hyperlink{struct_schedule_item_aa67c42967308ecbaee50b6d4b9f59de9}{functionName}})();}
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_schedule_item_a74668f76c3decc6c237417eadc5efaf0}{active}};}
\DoxyCodeLine{00009\ \}\ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a89f370344cea1059b842d8f3edec3148}{ScheduleItem}};}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \mbox{\hyperlink{struct_schedule_item}{ScheduleItem}}\ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[16];}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_abd9abf1c2d1a00025113e2a9607b657b}{scheduleFDRS}}(\textcolor{keywordtype}{void}\ (*added\_func)(),\ uint32\_t\ added\_interval)}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{struct_schedule_item}{ScheduleItem}}\ arg\ =\ \{.\mbox{\hyperlink{struct_schedule_item_a58e883896044e92ae6be7990ce9daf2b}{interval}}\ =\ added\_interval,\ .start\ =\ millis(),\ .functionName\ =\ added\_func,\ .active\ =\ \textcolor{keyword}{true}\};}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{00017\ \ \ \ \ \{}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i].active)}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i]\ =\ arg;}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00023\ \ \ \ \ \}}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{fdrs__debug_8h_adf135b87caf84f55fccdf33f614415ae}{DBG}}(\textcolor{stringliteral}{"{}Schedule\ is\ full!"{}});}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_acb5c8c22cd848e9e6ec684ad7444044e}{handle\_schedule}}()}
\DoxyCodeLine{00028\ \{}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{00030\ \ \ \ \ \{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i].active\ \&\&\ (millis()\ -\/\ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i].start\ >\ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i].interval))}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i].\mbox{\hyperlink{struct_schedule_item_a244dae875e888a2179aadb24f72b6873}{start}}\ =\ millis();}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{fdrs__gateway__scheduler_8h_a61bfde9d36daaa330d218863dd52a3c7}{theSchedule}}[i].\mbox{\hyperlink{struct_schedule_item_aa67c42967308ecbaee50b6d4b9f59de9}{functionName}}();}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00036\ \ \ \ \ \}}
\DoxyCodeLine{00037\ \}}

\end{DoxyCode}
